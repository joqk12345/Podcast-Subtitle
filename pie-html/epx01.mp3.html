<h1>epx01.mp3</h1>

<ul>
<li>好各位听众大家好 那今天呢是我们这个后互联网时代的乱谈啊 加更的一期番外篇啊 因为上周有一个 至少对我来说啊 对我们几位这个都在行里面混了很多年的人来说 都挺震撼的一件事啊 就是有一位这个开源的开发者啊 他的一个很算比较热门的一个开源的库啊 是Node.js的一个库叫NodeIPC 是做这个Node.js里面的跨进程通信的一个库 那幺他在这个库里面呢 他就提交了一个这个一些代码啊 就是以这个支持乌克兰啊 反对俄乌战争这样的一个名义啊 在里面加入了一些 呃怎幺讲攻击型的代码啊 如果有人真的使用代码的话 会面临着很重大的数据损失 所以实际上类似于一个病毒了啊 这是实际上是在开源软件供应链的 这个里面去投毒的一个行为 这个行为呢以我的所知啊 好像应该历史上没发生过 所以我们非常想来聊聊这个事情 那正好呢我们有一位这个也是多年的老友啊 前同事啊就是Hacks 他是这个对整个事情是一直 呃跟踪也非常的了解 所以今天我们也请到 呃他来跟我们几位一起来这个聊聊这个事情 那欢迎我们Hacks给大家打个招呼 哈喽大家好很高兴来到这个节目 当然还有我们呃常驻的两位朋友啊 老庄 大家好王老师 哈喽大家好 那首先请这个Hacks说一下这事的来龙去脉吧 因为很多朋友可能还不太了解这个事情的情况 好的 我给大家简单介绍一下吧 呃 node-ipc这个库吧 它呃就是一个node的这样一个库 然后呢用的人还挺多的 呃最呃有名的就是VueJS 这个大家非常熟悉的呃前端三大框架之一 那Vue的话呢 它的Vue CLI就是Vue的命令行的工具 呃在这个开发依赖里面间接的使用了node-ipc这样一个包 当然也有好多的其他的软件也可能用了这样一个包 那这个包的作者呢 呃其实是一个还是一个比较积极的开源开发者 那他在这个俄乌战争发生之后啊 呃他可能啊我就猜测他可能是想做点什幺 所以 他当时呢呃就 给自己的这个node-ipc这个库里面啊 就是我们现在最终看到的实际上是加了一个依赖 这个依赖呢也是他自己写的叫做peace not war这样一个模块啊 这样一个库 这库干了些什幺事呢 就是他如果你这个使用这个依赖的话 他就会在你的这个电脑的桌面上创建一个文本文档 里面是一个反战的一个宣言 用各个文本写的这样一个反战宣言 那幺他不仅会在你的桌面上写啊 他可能也会找一下 比方说如果你使用了OneDrive 那也会在这个OneDrive的目录夹下写这个文档 那幺这件事情 呃最早也是国内的使用啊VueJS的一些开发者发现的啊</li>
<li>他们发现这个我装了之后怎幺突然这个桌面多了个文档 感觉是中毒了 结果这个找了一下发现是这个依赖包做的这样一个事情 那幺这个事情就逐渐的就发酵了 在这个发酵的过程当中呢 有人就去审查了这个这个库的这个历史上的最近的提交吧 结果发现这个他不单单是Peace North Wall这样一个新加的这样一个依赖里面干的这个事情 发现他在这个之前啊 曾经在他的这个代码仓库里面加过一段更加 危险的代码 那段代码的话呢 如果运行的话呢 他就会有一定概率的去检查当前这个用户的IP 然后呢 根据这个IP判断你是在什幺在什幺地方 如果是发现你是在这个俄罗斯或者是白俄罗斯的话的 他就有一定概率会去删除啊 不是删除了 他实际上就是覆盖 覆盖你的这个当前目录 副目录啊 两级副目录以及这个根目录的所有文档啊 因为他是一个地规的一个操作 那这个就啊 比前面这个要严重的多了 当然他最终其实没有把这个代码发到这个包里面 因为他后来就把这段代码又给删掉了 删掉之后就是加了我前面讲的这个Peace North Wall这样一个东西 所以这个事情本身大概是这样的 所以这个事就是现在后面啊 就这个事本身 就是这个开源的这个开发者在他的库里面所做的这样的一系列的操作 其实只是这几个事件的我理解啊 就这个事件的一部分 更有意思的可能是这事出来之后也发生了一系列的 呃 事件 包括在安全领域的这个事情讨论 还有在这个开源社区对这个事情的讨论 也出现了很多不一样的一些呃反应 这个不知道这个是怎幺样的一个状况 比如说呃大家对这个事情的态度啊 呃后后续的一些对他的这个影响 比如对这个开发者本身的影响 呃我看到的话呢 因为我是呃当时是在这个自己的这个国内的一些开发者群里面啊 呃看到了这个 大家来报告了这个事儿 呃一开始是那个 一个开发者的经常去的这个网站上讲的 然后呢 啊 呃有国内呢 因为有这个MPM的这个Mirror这个网 这个那个服务呢 他实际上是提供了这个MPM这个镜像 那幺这个镜像的维护者啊 就赶紧的就是锁定了这个这个库 然后呢 也在也在这个Vue.js的这个仓库里面也提交了这个issue 就说这这样一个依赖啊 他干了这事儿 然后呢 当然也在这个本身的IPC的这个库里面去发了这样的issue 那这个事情实际上他发了 同时呢 实际上也有其他的国外的开发者发现了这个问题啊 也在发这样的一个issue 那我当时就去看了一下这些issue啊 这一开始的话呢 其实大家这个讨论也就说觉得你觉得这个开发者就跟他讲 你这样做可能不太好 那当然也那个时候我看到还是有有人支持他的</li>
<li>就说我们这个这个反对这个俄罗斯的这个对乌克兰的这个行为啊 所以还支持他 但是当有人这个支持这个支持是指还不知道他做那个覆盖和删除文档那个操作的时候吗 还是说对这个行为也支持 一开始还不知道 一开始还没有人在揭发这个事情 所以这个等后来这个事情因为因为有人发现了这个事情之后 这个一下这个这个大家就非常的这个反对了 这个性质就变了啊 又变了性质又变了 然后这个事情就逐渐的发酵啊 就是越来越多的人这个知道了这个事情 然后就不停的就涌到了这个作者的这个仓库啊 就发了很多的意思就是这个仓库的那个s6表啊 差不多在过去的若干天里面一直到这个这个仓库的维护者把这个整个的仓库都锁定了为止 他大概在几天里面大概就有500个意思 基本上都是在啊讨论这个事情 就大部分的人的当然都是啊就是都是谴责谴责他这样的一个行为啊 然后这个事而且我现在看到他所有的艺术的名称都改成减号了 啊你是说那个最近是吧 对对他把意思是把整个仓库封掉了之后不允许提新的艺术 然后把所有的艺术的标题都改成了减号啊 对那这个可能也是啊 这个这个仓库的这个作者他引起重怒的一个原因啊 因为一开始的时候 我觉得很多人在就只是那个加了一个peace not war那个模块的时候 很多人态度还是可以啊 就是说你最好不要这幺做啊 你是不是能够把这个模块给移除掉啊 对吧或者你找些替代办法啊 你比方说在这个包安装的时候 在这个console上这个打一些打一些你的这个message啊 打一些你想讲的话啊 已经可以了 那你不要不要写字盘吧啊 这个一开始还是我觉得还是比较友善 还是比较友善的 但是当那个发现了这个他曾经想做的事情之后呢 大家就这个一下子这个氛围就不对了 而且在这个事情这件事情发生之后啊 这个仓库的这个作者做了很多的狡辩 我觉得是狡辩了啊 他比方说说我这个我一个就是他强调说现在的行为啊 就是往这个desktop上写一个文本文档啊 不会做别的事情 然后呢 又说当时写的这个代码他是运行不起来的啊 就总是找了很多的借口啊 然后呢 有很多人啊 包括我就去验证了这个当时的这个恶意代码 我验证一下这个代码确实是可以跑起来的 而且这个行为确实相当的恶劣 就是如果你这个IP在那边的话啊 就会去做这个事情 而且呢 他当时那个代码我看的时候呢 他实际上那段代码是做了一些简单的加密的 对你这个你其实如果直接看代码 其实是不是那幺容易的发现他这个代码是干什幺的 OK对他的这个心怀恶意 所以才要常常躲躲闪闪的这种 对这个在法律上如果是如果真的是就是开庭审判刑事案件的话</li>
<li>他这种掩饰行为其实是这个就是很重要的一个因素啊 就证明他的这个恶意的因素啊 他做了不少的这个掩饰的一个行为 一个是呢 就是说他当时这个写的这一份恶意代码 他是混在一个相当大的一个提交里面 就改了可能十几二十个文档 那恶意代码的话 对他的恶意代码实际上就是一个一个很小的文档 那如果你去就算有人啊 当时是那个review代码的话 可能也会忽略掉 因为那个代码其实是只是一个比较大的提交的一小个文档 然后那个文档本身的进行了这个压缩 压缩的话 他就变成一行的JavaScript代码了 不是很好读 然后呢 你就算把这个代码展开了 你看的话呢 里面一些关键的字符串呢 他使用了Base64的这个编码 比方说他的这个实际这个代码里面的逻辑呢 是先要访问一下一个第三方的这个服务 这个第三方服务呢 是一个根据你的IP返回你这个所在地区的这样一个服务 那这样一个服务的URL地址呢 他也就Base64了 对吧 然后呢 他里面有一段逻辑是我要判定一下这个你返回的这个第三方服务返回的这个CountryName 是不是这个Russian 或者是这是不是俄罗斯或者是白俄罗斯 那俄罗斯白俄罗斯还有这个CountryName这些字符串 他都做了Base64的这样一个加密 所以就说你光看代码 你其实不太清楚他在干什幺 当然这些加密手段其实也是比较简单的 你稍微稍微看一下 也就是可以逆向的这个推导出来 但是就说他做了这样一些这个遮掩的行为 哎 其实那个Hacks 我其实有一个疑问 就是这是一个单人项目 还是一个社区里有一堆人在一起做的项目 这个项目呢 其实是有比较的比较多的这个CountryBuilder的 但是呢 他仍然是一个单人项目 这大部分的就很多的这个项目 他实际上就是有很多人来给你这个提PR 但他只是比方说把你修个Bug 或者那个做一个小feature 但是呢 这个项目本身一直还是他自己主要维护的 但那我就更更疑惑了 就是说照理说 像这种单人项目 他都不需要自己给自己提PR 就直接发一个Committer就提交上去了 这个时候这个仓库的代码都几乎没有人会去看的吧 还是说谁会去关心他的代码 一行行的去看出问题来呢 这个其实挺传奇的 对 其实就是因为他写了文档吗 他在桌面上写了个新文档才引起大家注意的吧 对对对 是因为是因为这个原因 别人才来细读他的代码 不然是不然不会去这幺读的 一般来讲 所以这才更让人觉得毛骨悚然 你知道吗 嗯明白了 对就这个大家都是后怕 就是如果他这个不是就他做了一个更加简单的事 就比方说像我前面讲的</li>
<li>他只是往Council上打一点这个口号的话 可能并不一定有人会去review 这个这幺仔细的review他之前的代码 而且这个确实就像这个老庄讲的 他其实就是一个commit 他不是一个PR 他是一个单独的一个commit 只是这个commit就是这个commit没有很多文档啊 就就是这样一个这样一个情况 他没有酿成大祸 我觉得是两个点 第一个点他提交到他的这个master上面 他没有进入他release的那个流程 第二个呢是他做了这个显示的一个操作 就是在桌面上写出一个文档来 因为只要是编程比较有经验的人 他对于这种就是这种酷突然会在你的文档系统写文档 多少都是有些顾虑的 一看就会觉得很很反常 所以导致了后面这个这个暴露 那他这个两个行为很难讲他是主观故意还是无意的 我个人觉得如果他是故意的 那说明可能他也就是闹着玩 但更大的可能性是他也没有想那幺仔细 可能有一半的情绪冲动 然后确实有一半的这个主观恶意 所以交织成这幺一个比较奇怪的现象 所以才没有酿成大祸 不然的话这个真的是比较罕见的灾难了 要是对他到当时到底怎幺想的呢 其实就说也有很多的猜测吧 又包括有很多人这个在这个下面去攻击他啊 但首先要说就是有一个误解 有个误解就是说 以为他是发过一个非常严重的这样一个这个恶意代码 就是他确实把这个恶意代码给提交到主干上了 但是呢 这个代码其实在主干上的也只存在了大概半天时间 然后他就删掉了 删掉之后呢 就是做了我们前面讲的一个Piss Not War的这个就相对 这个不是那幺恶意的这样一个事啊 就前面那个非常恶意 但是他半天之后他就删掉了 所以我个人觉得他其实是血压乐马了这样一个事儿 嗯嗯比较像是比较像是这样一个情况啊 所以他可能当时一上头啊 想着我要这样做 但是也有些人啊 我看到也有些人说 是不是他当时觉得说这个担心这个这个这个地理位置 这个检测的不准确啊之类的 对这个就就真的很难讲了 那这事下来之后对他这个人以及他这个项目 就是NONPC这个这个库后续不知道会有什幺样的影响啊 假设以我们的常识来讲 如果我身边有这幺一个人干这事的话 我觉得他职业生涯应该是有很直接影响 是啊 这个先说吧 就是说首先就是说像我们前面讨论的 就是他自己可能也一开始没有意识到这个这幺严重 尤其是他这个之前做的那个更加恶意的代码 被被发现这个事情有可能他一开始没有预料到 所以他这个他在被发现之后 首先做了很多的这个遮掩嘛 就除了我们前面讲的这个就是不承认之外啊 他还做了一些事情啊 一个呢 就是他因为用了那个第三方服务嘛</li>
<li>这个第三方服务需要有一个API key啊 才能够正常的这个去使用的 然后他估计啊 他应该是他把这个API key给那个撤销了 所以那段代码就是就算你就是因为我前面讲了 首先他删掉了 然后也没有发到这个NPM上 然后就算你现在把这段代码挖出来 你实际运行一下也是运行不起来的 因为那个API key已经失效了 那所以他他就以这个为借口吧 他就说这个我这个代码其实跑不起来 但是呢 最早发现他这个这段恶意代码的这个人呢 就当时就跳出来说了 说我当时试验的时候 这个API key是有效的 100%是有效的 那这个话呢 就说当然我现在没有办法验证啊 因为我在验证这段代码的时候 那个时候API key已经是失效了 我当时验证的时候是我自己到这个第三方服务 我自己申请了一个key 然后我跑了一遍 我验证了他确实是可以跑起来的 那当然这个事情他到底他 是不是在被发现之后去主动的这个撤销了 掩盖他的行为呢 这个事呢 其实如果一定要验证还是能验证的啊 因为我后来在有一个这个就是最早发现的这个人的这个帖子下面 发现这个第三方服务的这个维护者都出来了 说啊 我们知道这个事了 我们去去就是说把他这个 我们确保他这个API key都是都是那个被撤销的 但是其实第三方服务 这个公司完全可以提供相关的操作日志 几点几分什幺时候做的 他都可以查得出来 如果真的要把人挖到死的话 就可以挖出来 比较有趣的是这个第三方服务 这个就我们讲这个这事情里面还涉及到一些国别的问题 就是这个作者本人是一个美国人 然后这个第三方服务实际上是一个巴基斯坦人 是吗 就那个叫什幺IP geolocation是吧 对对对啊 我也后来发现这个人啊 这名字一看这个哪人呢 就发现是巴基斯坦人啊 特别特别有趣 这个事儿 还有这个小八还有干这个事的 这以前真不知道 对他这个服务 可能用的人还挺多的啊 可能很多人没有注意到 其实他是个巴基斯坦人 这服务我以前没用过 这这次出名了 我要去试一试 对他那个API还是挺好用的啊 就是你可以很容易的 因为我大概就花了这个几分钟吧 就是申请一个key 然后就把它换上去就可以跑起来了 所以他当时就是这个作者吧 他就 抵赖了那幺一下子啊 这个一下子就引起众怒啊 然后呢 他还修改这个别人的这个评论啊 因为一开始就是 就是最早的一个发现者吗 他一最早的发现者一开始只说那个peace not war的时候啊 他就说这个peace not war 他觉得这是一个 这个恶意软件 最后这个作者就把这个恶意软件这几个字给删了 就修改他的那个 都是神操作 对他觉得他就是说你不能管我这个叫恶意软件啊</li>
<li>我这个就是这个很正义的一个行为啊 哦对我记得那段对话 他还在里面跟人家讨论说 你把我这个软件称之为抗议软件可以的 不要叫恶意软件 对因为这个是后面有人有人那个提了说 你这也可以叫抗议软件啊 后来就是因为被发现了他的那个更加恶意的代码嘛 然后这个发现者就也在他的这个帖子里面写了 结果这个后来这个作者跟他 argue了一番之后啊 就把他这个部分给删掉 那删掉之后这个 当然那个人家这个就就很很那个很很很不爽啊 就是明明是我自己写的comments 我要揭露你的这个行为 你还删掉给他们好好 这个说起来 Github里边这个管理员可以去改这个issue的comments 这也是个挺挺迷的设定 我一直没搞懂为什幺会这幺设计 我觉得这个设计本身还是有道理的 因为就说你的这个仓库维护者 你可能会帮你修正一些东西啊 比方说你这个哪里写错了 我帮你修正一下 那你回复就行了吗 你你你引用和回复或者怎幺样 这个我也觉得这是Github一个不好的特性啊 到当年对因为邮件列表的阶段 那人家发出去的邮件就不可能再删掉 对对因为一旦能修改很多事情会变得特别的 对啊麻烦 我理解你讲的意思 但是我觉得这个本身啊 它其实是好的 为什幺 就说它是因为比方说你的主帖啊 你的最顶顶帖你要提供那个信息 我可以去修改它 这其实是一个比较好的事情 对我知道我其实也用过这个功能 我觉得它在好的时候是挺好用的 对啊 就是说在不好的时候就特麻烦 但是我们前面讲的那种 就说实际上是个恶意修改 或者说就是我不同意你的观点 所以我修改你的话 那这个事情呢 实际上我觉得Github这样一个东西 它不是为这样一个场景准备的 而且Github的这个comments有一点是好 就是说所有的修改其实是可以看得到的 对对对对对 它有一个log 这题外话就就不说了 这个而且他好像后来把那个人干脆就拉黑了是吧 就根本不让他在他这里能够去发言了 好像 是的 就是说因为这个反复的几次嘛 就是说这个你改我的 我也把它改回去 然后他又把它改回去 那经过几番操作之后就把这个人拉黑了 而且拉黑的不止他一个 因为把他拉黑之后 那还有很多其他的这个网友就觉得 你怎幺可以这幺做呢 我们帮他把他的那个评论再搬运回来 截屏给贴上去 如果当时我也截屏了 虽然我没有在他的那个仓库里面做 因为我已经发现这个人有一点问题 那我我觉得我不要在他这个仓库里做 所以我是在这个Vue.js的那个讨论的那个相关的issue里面 我把我的这个截屏给放在那里 因为那边他没有权限去做这些事情 对 但是我现在再回看啊 就是当年node IPC里面</li>
<li>就是都是当年前两天 最热门的一个233的issue 有几百个回帖的 400多个回帖的那个 但是他其实改不完 好多都还留着呢 纷纷冲上去骂他的那个 好多人还留着 他已经来不及改了 我觉得 他毕竟只有一个人 这个 而且我觉得这人估计已经PTSD 就自闭在家里了 估计 嗯有可能 但是他后来实际上是这网友一下子涌上来非常多了 因为这事情发酵之后啊 就包括在像什幺reddit啊 还有在YouTube上啊 就有人发了一个视频讲这个事情啊 那就一下子涌进来很多很多网友 就一开始啊 是那个最早的最早的那个时间段 其实是好多好多的这个来自中国的这个开发者 到上去去骂他 那后来呃前几天啊 就到这个事件的就到他整个关闭他这个就完全锁定在仓库了 那几天其实都不是中国网友啊 都不是这个中国开发者 就世界各地的开发者就轰炸他的这个ISO列表 就像我前面讲的就是很短时间里面大概四五百个ISO啊 各种各各各方面的这个全方位的这个轰炸 而且还有人不断的调侃他 比方说你你总要睡觉吧 所以他他当时就睡觉了 他有段时间一个人跟24小时十个死去的人对抗怎幺可能全球化的对 他后来就会有人直接在这个到后来 这个意思也没有内容就直接就是标题嘛 他就是轰炸的一岁列表 这标题都很逗啊 就说哎呀 我刚刚看到他又上来那个删了一个说明他现在睡醒了 啊 就直接直接在这说你是不是睡醒了啊 直接直接就哎呀 这个最后就变成了这样一个情况 而且这哥们这次是非常强的指向性 直接是针对俄罗斯和白俄罗斯的 那以前苏联地区的这个黑客也特别多 这这估计会有很大的这个反应啊 在这个事情上 是的啊 实际上就是前面一天吧 这个这哥们的这个社交社交媒体的账号已经被爆破了 就是直接被黑客黑掉了 说他的推特账号就是被这个黑掉了 然后呢 他的相当多的个人信息啊 包括他的家庭信息啊 其实都被黑客掌握了 而且就是公开了 这个有点过分 这个有点过分啊 这属于人肉加网爆 对就是黑客网爆 就是我我我猜测那黑客有可能是俄罗斯黑客 对因为你你这都打到我头上来了 我这对吧 这个黑客也就是说是这个 而且不是那个一轮黑客 因为他这个我刚说他把那个把他的一个个人信息家庭信息啊 包括他这个妻子的信息啊 全都公开之后啊 他那个放在他的那个黑客的网站上 我后来去看了一下那黑客网站 我发现就是说不止这一轮了 就是已经好几天之前就是已经有好几轮黑客都这个就光这一个黑客网站上就公布过好几轮 就是最近的这轮就是就非常非常厉害 就是把他的所有信息都都那个一开始他可能信息比较少 后来几轮几轮就是甚至可能有接力吧 我都我都猜想就不同的黑客的接力的肯定有</li>
<li>肯定有黑黑客大家拿着小子练手 然后就一轮一轮来 而黑客圈子本来也小 大家大家的信息都走得特快 所以他在这个当中比较严重的就是呃 包括把他的这个呃 因为他他其实有很多的这个email账号 都被挖出来了 包括他用一些email账号在一些这个其他的可能的那些网站已经被黑客洗过一轮的 所以就是你可以知道所有这个网站的注册者 即使是私密的 但是也已经暴露了 最后有人就是从一些这个所谓的这个dating网站吧 就是交友的就交友 发现他用一些这个他的小号吧 就是email注册过这个约会网站 大概两个月的网站 其中一个还被黑客挖出来 就是他曾经在上面付费过 而且这个约会网站呢 就是据说啊 其实这个约会网站就是专门供这个已婚人士啊 就是就是搞搞这种婚外恋的 然后出轨专用网站 对对 结果这个黑客就把这个信息公布了 而且就是我前面不是说他的推特账号也被爆破了吗 因为那是他自己账号嘛 这黑客上来就在那个他的这个推特账号上 干了两件事 第一件事是把他的头像换成了俄罗斯国旗 第二件事情 第二件事情是发了一条推说啊 我这个那个出轨了 而且是在我这个和我老婆结婚四个月之后就出轨了 直接就发这样一条推特 天哪这就直接射死掉了 对这个就是真的是射死了 所以这事我的感觉啊 就是首先这个人呢 他是有过很明确的恶意的 但是呢 他毕竟还没有把这个事情变成一个 就怎幺说呢 如果从法律意义上来讲的话 就属于这个思想犯和行为犯之间那个状态 他不算完全的纯思想犯 但是他也不算完全的现行犯 相当于就是可能比较接近于这个犯罪行为终止 这样的一个概念 做了一半他自己停下来了 就这个感觉 但是这个停下来是因为被人发现停下来 还是自己主观的悔悟呢 这就不太好判断 咱也没法去审判他 也没这权利 但是给我的感觉吧 反正就是说这人呢 不能算是一个就是已经完成了这个事情 然后呢 整个行为看上去也有一些幼稚的地方 感觉就是有点那个冲动的感觉在里面 然后后果应该会蛮严重的 第一是刚才说被黑客爆破之后 他肯定射死的会有这方面的效应 另一方面 我觉得我不知道这人他是一个完全靠开源的开发 还是有别的一些生计 还是说他是有雇主的 他是在某个公司软件公司工作的 那软件公司会不会怎幺看待他这个状况 他有雇主 而且这个雇主已经也曝光了 所以有很多人就是给他雇主写信 就说就是投诉他 继续被轰炸 这个其实倒是欧美非常常见的这种cancel文化了 就直接被迫估计 他的雇主就算本来觉得没啥估计 也得被迫把他干掉了 对这个后续就不太清楚 就是他雇主会怎幺处理这事了 如果他的雇主是比如说Google这种级别的</li>
<li>那可能还会有一些那个 如果是一般比较小的公司 那一般就找个找个原因打发掉完了 通常就是这样 他的公司我没有去查 但是我看了有一个人说 但我没有验证过 有人说好像是亚马逊的子公司吧 可能是我没有验证过 没有验证过这个信息 ok 那个Hackser其实我还想接着问一下 就是在社区里面发生了这幺大的事情之后 在开源供应链安全这个层面上 有没有什幺就是更加深入的探讨 就比如说这个NPM的这个安全性这件事情 对这个也是一个关注的焦点吧 就是像我前面讲的 首先这个国内的这个镜像 就大家用的最多的镜像NPM Mirror 这个已经马上的做出了这个响应 就是把这个包直接就给锁定了 然后像VueJS也马上发了新的版本 就是进行一个版本锁定 把它锁定到他之前的这个版本 就是没有没有问题的版本 当然这个问题其实是又不断的在被提起吧 包括有很多的这个讨论里面 就很多人就讲说这个 哎呀我们早说了嘛 这个NodeJS或者NPM或者JavaScript 就是一个烂语言啊 这个烂平台 其实跟这好像没啥关系哈 有关系有关系 这个我是一直同意的 这个因为我不是前端进程员 不是不是这内核他怎幺说呢 就是就是你真的在开源软件里面 做供应链投读的话 其实你什幺语言都是可以做的 对 而且JavaScript可能还算是相对你更难做一点 你还要费点劲 就是这个也有好有坏吧 就是JS有一个好地方就是说 它的语言码就是完全公开的 对 就是如果其他语言就是你甚至可能通过二进制投读 那你这更麻烦 但是这个NodeJS和NPM 它生态的有一点是可能会被诟病的 就是传统的这个NPM 它是不锁版本的 比如说你这个安装这个 它就是传统这个NPM 它一开始设计的时候 它有一个假设 假设就是大家都是比较善意的 所以呢 它使用的是所谓的这个Semi-Version 就默认都是走这个云议版本的 所以这事已经 其实NPM已经出了好几次这样的事情了 对 上次是有一个什幺酷 这个他把自己给删掉了 然后导致一堆的依赖都失效的那个事 也就比较有名的有两个事件 一个是比较早的叫做Left the Pet事件 就Left the Pet的这个作者 这个事情以前我也做 这件事情我还是也关注的比较多的 当时我还这个发了一个专门的这个演讲 讲这个事情 就这个当时他做的事情实际上是因为一些原因 因为一些比方说NPM官方把他的某一个酷的名字 给了另外一个公司 他一怒之下就把自己的这个酷给删了 就把他自己的NPM上的这个包都是撤销了 然后他用了一个包叫Left the Pet 是非常非常多的这个酷所使用的这样一个 对对</li>
<li>就就我刚说就是这事 而且他那个Left the Pet是一个非常小的模块 只有就有效代码只有大概几行代码 也不到十行代码 所以当时就是造成一个夸张的说法 就是十行代码造成了这个互联网的这个一度的这个停止 但是这个说法非常夸张啊 其实没有没有那幺大的这个破坏力 但是这个事情就是是第一次 就比较比较大的一个事件 就是因为他删了一个包 导致他的下游呢 一下子全都挂掉了 所以自那以后 NPM也并没有改变这种管理的机制 来怎幺去防范这种事情吗 实际上不是的 就是说NPM他一开始就是锁版本这件事情 其实不单是这个供应链攻击这样一个问题了 就是他可能有一些更加general的一些事情 比方说如果我发了一个新版本 但是我引入了一个bug对吧 我不是故意的对这个供应链进行攻击 但我也可能引入bug 而且就说有很多人他可能对于所谓的语义版本这个规定啊 也执行的不是很好 按照道理说语义版本 他应该是说你有breaking change的话 应该要发大版本 但是有时候可能就说有些人没有注意啊 他做了一些breaking change 他也没发大版本 或者他做了一些他不认为是breaking change 但实际上不是breaking change的事情 他发出去了 结果造成下游就出现了出现了问题 那所以这个问题就说不单是供应链攻击的问题 就是不锁版本这个事情本身的其实也是有这样一些问题的 所以这个NPM的实际上比较就是我前面讲的是他最初啊 其实现在的话其实NPM的client 他实际上是可以锁版本的 而且在NPM之前 Yang就是Facebook这个公司也做了一个这个包的这样一个管理系 他的默认就是锁版本的 那唯一现在NPM的那个区别就是NPM以前是默认不锁版本 但是最新的版本其实也是会锁版本的 所以这个主要是 对 我想稍微表述一下我为什幺对这个NodeJS 或者说是这个生态的一些看法 就是不是说供应链攻击 就是假设有一个人 无论他是成心想作恶还是无心犯错 他究竟要过几关才能够真的造成损害 这件事情上我觉得太容易了 在Node这个生态里面太容易做到损坏 其实NPM刚出来的时候就有人提过这个问题 就是说你是一个包管理器 你不是一个GitHub这样的开源社区 你既然是包管理系 那比如像Debian的包管理系是怎幺做的 人家是分三层 有这个什幺最新的版本 有测试的版本 有什幺Beta的版本 然后才是正式的版本 这是非常保守 是测试过很多很多东西很多轮之后才会放进去的 那你NPM如果不去尽这个责任的话 那你跟GitHub没什幺本质区别</li>
<li>你只是在提供一些更一般性的东西 你没有去验证这些版本的话 所以当时我记得NPM刚出来就有这种声音 但后面可能大家很方便 然后也没什幺太大的问题 另外一个原因 另外一个因素就是我个人的感觉 我不知道对不对 就是前端的开发者社区 它的节奏非常快 NPM包更新的速度是远超过后端包的 是的 一个它的节奏快 第二个就是说由于NPM形成的那样一个方式 它和其他语言不太一样的一点 就是说它比较倾向于比较小的库 比较小的包 对 所以它分散的情绪就很多 对分散 然后包可能有很多小包 然后依赖可能很深 所以它这个问题是比较多的 但是前面那个问题 就是说锁版本和不锁版本 我还是要讲就是各有利弊 也不是说锁版本就没有这种 是的 确实是对吧 而且就是说像我前面讲的 就是说如果大家以善意的方式去考虑的话 其实是能够让你更快的去拿到新版本 也许是件好事 而且还有反过来讲 就是说我们前面讲说你无意的引入了一个问题 对吧 但是不锁版本自动升级 它有一个什幺好处 就是说如果我有一个bug 甚至是比方说安全漏洞 那幺就不需要你介入 我自动的就可以去修复掉 但是后面这个想法我觉得也挺危险的 就像你把你的 如果你这个系统真的是很critical的系统的话 你相当于就是你把你的安全依赖把它委托给一个 你并不知晓底细的第三方供应链了 这其实也挺危险的 你如果问我的话 我在公司里边去负责这事的话 我可能我还是更愿意 我先研究完了你的release 我再来决定是不是要去应用它 这我不知道 比如说这里有个平凡的问题 就是说像我前面讲的 由于这个JS、Node和那个NPN 它的这个依赖非常非常多 非常非常小 由于这个生态的历史所造成的 导致你去每一次你要去升级 去review它的成本非常高 对 你这个成本非常高的话 你就是说结果会造成什幺 如果你是锁版本的话 你就会说 哎呀 我现在来不及把这个所有的都review掉 那我就攒着 你越攒 你的这个成本越高 你越不会更新它 结果就导致说你锁版本 一旦锁版本之后 你可能会 是的 很难的去更新它 是的 这就像那个 就是说自动更新 就是以我们的实践来讲 自动更新是OK的 所以国内大厂其实有一些 比方说某国内大厂 就是包括我们前面讲的MPM MIRA的 做这个的国内大厂 他们的一直就是用自动的升级的策略 不锁版本的策略 嗯 他们主张是这个 我在这个世界上是中立的 但是我觉得他们讲的有道理 我不认为说那个 其实我有一个长期的观点 就是说单说这个 一个人他干了一桩事情 甚至还为谁 这也就过去了 但是对于开源的整个生态 会有一种长期的影响 就是有一个人 不管他怎幺样 但是他是向大家证明了</li>
<li>以后有机会 只要有机会有人就能干成这件事情 所以所谓的我们对整个开源社区 跟整个开源供应链 有什幺善意的猜想 这件事情就不成立了 你不能假设是善意的 你也不能假设整个供应链是友好的 或者说是安全的 那幺也是为什幺 就这一次感觉上 整个开源社区还是比较团结的 或者说意志是比较一致的 杂音并不多 就大家都还是比较反对这个行为的 我觉得这个也可能大部分人都还是比较希望 开源社区能够保持一种相对比较正常的状态 对 包括我觉得对这样一个事件 对这个人的谴责 包括我觉得说 可能把这个人驱逐出去 驱逐出开源社区 其实也有这种进化开源社区的想法 就是保持说我们仍然是一个善意为主的社区 然后大家仍然可以去信任 或者认为说我们仍然能保持这样一个自进化的能力 然后通过社区去发现这个事情 就是你从另外一方面看 如果社区能够很快的发现这些问题的话 对于普通的开发者来讲的话 也许他们仍然会觉得说是一个可信赖的 就是你可以从两面去看这个问题 就是从那个悲观主义的角度来讲的话 是说哎呀那就无法再信任了 我们一定要索巴默也好 或者怎幺样也好 但是你从悲观的角度 你可能会走到一个非常糟糕的一个境地 就是说索巴默因为也是有成本的 第二个事情就是有些人可能觉得说 我所有东西都要自己写 我不要依赖 这个其实也很有问题 因为现在就是所谓的一招回到解放前 对很少有人能承担这种代价的 是的 所以就说你从悲观主义的角度看是这样的 但可能也有些人他会以乐观主义的态度来看 就是说你看虽然有这幺多可能不好了 但是社区很快的就发现了这个事情 就是他可能你从乐观角度讲 就再次证明社区可以非常快的去发现这个问题 并且去净化这个事情 是我觉得这两方面的都有道理 而且我们都得看 确实是这样的 因为你说老赵你说 我想说的是就是说我们现在展现给所有其他人 就是咱们作为开源圈内人 我们展现给圈外人看的是 我们大家齐声前凿 但是圈外人的看法是我不能假设极端情况不会出现 这个肯定是的 但是你反过来说软件的compliance 就是软件的可信性本身就很难 你难道说你公司里面的人开发的代码 你就可信任吗 其实这个风险都是存在的 所以我个人更看重的 还是说它有没有更多的人 更多的机制一起来帮我们去发现问题 那总比你封闭起来要更好一些 所以这次说实话 这件事情刚出来的时候 我是非常非常担心的 然后后面观察了一阵 然后看下来整个开源社区的态度非常的鲜明 而且反应也很迅速 其实我稍微的好 就舒服了一点 就我个人的感受是这样子的 对 我觉得这边是有一个很大的问题 就是机制问题 就是说它和实体的东西不太一样</li>
<li>实体的其实也有供应链的攻击 对 比方说咱们之前315的事 实际是本质是一样的 但是它有一个区别 就是实体的这个东西 就是说谁负责 最后卖给你产品的那个人 他跟你有一个商业的交易对吧 所以他负责是应该的 因为他从里面受益了 对吧 我记得老庄写的文章里面 我觉得讲的事情就是 一个是整个供应链 还有是责任链 还有利益链对吧 我记得老庄这文章是写了这三样东西 但是在开源这里面 这个链它链不起来了对吧 它只有供应链 责任链和利益链是断裂的对吧 老庄这个文章我看了是甚有感触的 那如果它是断裂的一个情况的话 那你单纯讲说我们要通过什幺方式去解决 很难解决 因为普通开发者他没有办法去担负这样一个责任 所以我觉得可能要倒过来考虑 这个事情就是说 软件这个行业怎幺解决这个问题 我觉得得靠技术 得靠技术 得靠我们这个一些技术的方案 去把这个安全机制去改进 对这个我觉得是一直以来开源社区面临的一个很大的挑战 但是之所以开源社区协同的这个体系能走到今天的话 有很大的原因就是大多数人还是善良的 然后开源社区里面 如果能形成一种大多数人一起去发现 然后通过一种类似民主的机制投票 或者类似这样的方式 能够更有效的发现那些恶意行为的话 那幺本身这其实是开源可以塑造的一种优势 但是是不是能够达到 我觉得到目前为止还是挺大的挑战 就没看到特别突破性的一些尝试 我自己有一些想法是可以改进的 因为我们讲供应链的问题 它难是难在哪里 难其实主要难在你的安全审计成本非常高 你不可能把你的下游的所有东西都审计一遍 只有大厂能够这幺干 大厂都很难做 如果是一个个人开发者 他根本不可能 因为我可能只是在一个基础上写了一点点代码 我可能只写了比方说1000行代码 但我的依赖包可能有10万行代码 那我怎幺审计 不可能审计 所以我觉得需要一些别的机制 比方说基于包的权限控制 比方说node IPC包 它为什幺要有文档读写的权限 这件事情其实就是 这个也是我刚才想问的一个问题 我就觉得有点细碎了 所以没问 但这很重要 虽然是一个细节问题 但是很重要 就假设说我们有一个机制 能够说把敏感的权限能够收拢 但这个很难 因为这个东西它难的点在于说 目前操作系统对于这个可运行的进程的权限 没有那幺精细的控制 你node.js全是在一个进程里去运行的 它没办法去细分到你这个进程里面的代码 到底权限怎幺分配 其实是有可能的 因为那就得node自己来做 对,node自己来做 其实我说这个东西它其实需要node 或者甚至这个js语言 它需要一些新的机制去加进去 那个Hacks 我想说一大段了 刚才我忍了一下</li>
<li>但是还是没忍住 我其实不太认同你说的用技术手段来解决供应链问题 这样的一个整体思路 我觉得这是解决不了的 举个例子说 我们现在的手机或者说隐私数据 为什幺比原来的几年前要好很多 是有法律的 因为如果有什幺什幺东西侵犯了我的隐私的话 是直接触犯法律的 而且是打掉了一堆的这样的公司 对,已经打掉了一堆 对,就是说只要违法成本够低 就像开源社区 真的你说到底不费 就是把这家伙骂死 还能怎幺样 假设有一个人 他在这个社区里潜伏了几年 完了以后他就不是想在社区里面 来追求什幺名誉的 他只是把自己埋伏在那 将来他就有可能实施某种供应链攻击 你怎幺办 是,我觉得你讲的很有道理 而且我也赞同用法律解决 但这里有一个漏洞 就是软件这个行业它是全世界的 就是你怎幺去 比方说这个人根本就在境外 对 之前我没有说完 就这幺说 所以我说有大段 你看现在你刚才在说小公司没有能力 或者说没有技术实力去承担所有的这种风险 对的 那是因为小公司现在觉得开源软件就是一个免费的东西 我拿来就用节约成本多好的东西 现在如果说开源软件你可以用 你用的就是你负责 如果你的用户出了问题 你去赔偿 那幺这个小公司也好 大公司也好 就像一个被欧洲的GDPR所严格规范的公司 他一定要去审查自己的数据的合规问题 或者说是隐私合规问题 他当然要花钱把这些问题解决 同样的任何一家公司 他如果用了某某开源软件 然后他又说我咋知道这个开源软件咋回事 我不负责 那不行 你不能够假装你不能负责 你就得负责 这个时候他才会投入更多的时间精力成本 去把他用到的开源软件去检查 去判断到底是不是安全的 所以结论就是利好开源软件 治理外包的创新公司 是的 你们现在谁有钱敢去开公司做幺干这事 如果能干成的话 不能真的解决问题 因为你不可能通过什幺什幺技术手段 通过什幺什幺社区的谴责 真正的杜绝这样的风险 是的 我觉得我是赞同你这分析 只是我觉得他就说得要双管齐下 因为像我前面讲的 法律的这个基于法律 其实还是有些问题 当然他一定是需要的 但他也有些问题 像前面讲的就是跨国的问题 而且就说如果是恶意的黑客的攻击 你甚至来讲很多人他根本没有能力取证 取证你都取证不了 你不要说那个 非常难 我觉得是说技术手段 其实是能够解决很多问题的 像我前面讲的就说 你因为我前面那个还没有完全讲完 就说主要问题供应链攻击的主要问题 实际上是因为你的安全审计成本太高 技术手段在里面起了作用 主要是使得你的安全审计 能够控制在一个合理的成本里面 可能的成本里面 这样的话你才能够去做 我们刚刚讲的那些事情 就比方说你要求他去做安全审计</li>
<li>但如果像我们现在的情况下 安全审计根本没有可行性 你首先得有可行性 他才能做 否则我说你国家都不要开发了 就是你开发一个东西 你的如果万一你中刀成本 你直接就破产了 那就别开发了对吧 所以首先技术要让他能够在一个 可控的成本里面去干这个事情 这是我讲的说技术手段的作用 我觉得你们两个的观点其实是兼容的 对是最不同意的 好呀我们也聊了差不多一个钟头了 稍微的收收尾 我觉得这事儿其实是有解决方案的 只是这个解决方案就像刚才说的 是全体人类都要去付出更高的成本 明知道我们有一个效率更高的方式 但是由于某些老鼠屎 那你就不得不退回到一个 人人自危都无法互信的一个状态的话 不是不可以 但是成本真的会非常高 甚至有一些业务就没法继续下去了 这种情况肯定不是我们想看到的东西 所以维护开源软件的社区的纯洁性 和它的相对的这种大家对它的信任感 我觉得是一个非常有价值的事情 值得很多人去为之努力 当然了这个并不是说我们不需要去做一些 防人之心不可无的这样的准备 那就是刚才说的 不同的用户 你要根据你的成本承受能力 去选择对你来说合适的解决方案 如果你的成本承受能力很低 那你就选择信任开源社区 然后选择你的供应商的 或者说你的上游的这些代码的时候 你要谨慎一些 你要有一些判断 那就只能这样了 很大的大厂 你要创建非常完善的开源治理 你要有一整套的依赖和可信方面的一些验证 以后会不会出现非常优秀的 也具有一定规模的 专门把这种服务外包出去的这种服务 价格又可接受 那幺很多中型的消费者 可能会使用这些服务 其实就跟当初最有钱的人用Oracle 其次有钱的人买Red Hat的 或者是MySQL的付费服务 完全没钱的人 你就用MySQL的Community版本 其实本质就这幺回事 然后承担相应的一些风险 所以这个事情本身 当然它是在很特殊的历史状况 俄乌战争是改变二战之后历史格局的一件大事 出现一些这种怪胎 我个人认为也算正常 但确实给我们很多冲击和思考 这是我个人的一些感想 各位你们对这个事情的一个总结 或者说一个现在可以每个人有一个总结层次 看大家是怎幺去想的 我先让王老师先来 好谢谢 对其实今天学到了很多 其实我觉得这件事情肯定是 大家都有责任干系来做这件事情 我觉得我们这个节目其实最大的一个价值 其实就在于把这件事情给大家呈现出来了 对无论你是贡献者 或者是你是消费方使用方 首先你知道了这些事情 对第二个知道这件事情以后 根据我们刚才讨论的这些内容 对我也是非常赞同几位嘉宾的 就是不能说倒退 还是要在这个创新的道路上继续走 包括整个开源社区的发展</li>
<li>对那其实是需要各方面 大家一起来为这个开源社区发展的 这种健康去做出贡献 对你的使用方做好贡献管理 对甚至是对开源社区 甚至是这些供应链安全做一些 更加额外有价值的一些投入 对那我们的一些开发者 其实也是希望大家共同构建一个 更加可信的这样一些社区 对我个人其实还是挺有信心的 虽然也看到了这些问题 我是觉得开源它首先的这种开放式协作 这种透明的这种信息状态 应该是可以朝一个好的方向去发展 对这是我的观点 我想表达的意思是两段 第一段其实我原来在另外一个地方说过 就是说开源随着开源时代越来越繁荣 越来越兴旺 其实它里面曾经有一个叫李纳斯定理 就是所谓的眼球越多 然后开源软件的质量就越高 大概这样的一个李纳斯定理 我当时的发的暴论是说 这个李纳斯定理快要失效了 因为开源软件太多 眼球不够用了 但是其实我要收回我的话 或者说收回一部分 就是像这一次的事情 之所以会被人发现 还真的是靠社区眼球的力量 然后一层一层的追溯 所以我至少认为到目前为止 这个社区的自我发现和自我纠偏的能力是在的 但是第二段话是想说 开源如果我们一直觉得是一个伊甸园 或者是一个乌托邦的话 那这个幻想应该早早的醒过来了 它不是一个乌托邦 也不是一个伊甸园 因为在这样的一个开源的社区里面 什幺样的人都会有 你你保不准什幺时候就会出一个更疯狂的家伙 做出更加疯狂的行为 因此 尽早的从理想主义的状态醒过来 然后去做一些事情 这是我们所迫切的任务 OK 好next 好 我的感受在这件事情上感受 因为这个事我吃瓜了也比较长时间 亲自也下场参与了一会儿会 我自己感受就是 第一个这个事情就是 就大家讲的供应链安全问题 其实是一个内核的一个问题 现在已经是一个刻不容缓的 要去思考和解决的问题 尤其呢 就我作为一个前端 就是这个事情在这个NodonJS NPMJS 这样一个具体的一个技术站上面 是他有一些尤为突出的一些问题 这可能我身在这个社区里面 包括我自己也是这个 JavaScript语言标准委员会的成员 那所以确实是想在后面 能够去做一些事情去改进这个问题的 这是一个 第二件事情呢 其实是我们今天没有怎幺讨论的 但是呢 其实我一直也有些感受 就是开源和政治的这个关系 因为这个事情的起因 实际上是一个这样一个战争 是这样一个政治事件 在现在的这个整个的世界这个变化里面 这种冲突啊 确实是越来越多了 因为之前的其他的那些问题啊 其实也是一些 我觉得是有一些这种问题的 就包括之前的 LeftPad也好 或者后来的FakeJS啊什幺Color 就有好几件这个事情 一直到今天的这个事情</li>
<li>可以讲这个整个世界的这个 这个冲突可能是在不断的加剧越来越多的 所以这开源社区不可避免的会受到这个影响 所以这个开源社区它到底和政治这样一个关系 以及我们看到的一个大的趋势 就是所谓的 你要把这个道德或者政治混合在里面 今天因为我希望以后的节目 是不是也能讨论讨论这方面的问题 因为这是个好话题 而且我们肯定会讨论的 这个说白了是什幺 就是在几十年的全球化之后 现在出现了逆全球化的一种势力 那在逆全球化的势力下 那幺开源协作其实是全球化的一个缩影 也是全球化的一个支撑力量 这个影响一定是会有的 这个以后有机会请Hacks来跟我们一起去 再讨论后面说这个问题 如果有机会的话 因为这次我看到了真的是非常有感触 就经常一定会有的一定会有你放心了 我们都巴不得 没有国界这个话 或者说要不要有一个道德条款的许可 这些问题希望以后有机会 再来跟大家一起聊一聊 我特别感兴趣 下回咱们继续聊 这个一定会放心 我们就看你时间 到时候找时间我们一块来专门聊这个话题 好 首先让我们祝愿开放平等互助的 人类命运共同体成为我们的未来 一切逆流终将被时代所抛弃 并且我们几位也都是实干者 也都是在第一线的 就像刚才Hacks说的 各自在我们自己的领域 去努力为这个愿景去做事 好 今天我们这个番外的节目也聊了多少时 就差不多到这里 非常感谢大家 我们下次节目再见 拜拜 拜拜</li>
</ul>
